<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Algorithm of Back Track | Chener丶</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/favicon.png">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.css">
    <meta name="description" content="weigao.cc">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.71994f2f.css" as="style"><link rel="preload" href="/assets/js/app.ff413545.js" as="script"><link rel="preload" href="/assets/js/3.a9798fbe.js" as="script"><link rel="preload" href="/assets/js/1.76b01c69.js" as="script"><link rel="preload" href="/assets/js/14.4ea22ee2.js" as="script"><link rel="preload" href="/assets/js/9.0cdfd736.js" as="script"><link rel="prefetch" href="/assets/js/10.0a183579.js"><link rel="prefetch" href="/assets/js/11.a03ef169.js"><link rel="prefetch" href="/assets/js/12.f26a7d7a.js"><link rel="prefetch" href="/assets/js/13.d3b95d41.js"><link rel="prefetch" href="/assets/js/15.8fb23eac.js"><link rel="prefetch" href="/assets/js/16.cf8de121.js"><link rel="prefetch" href="/assets/js/17.c225ab11.js"><link rel="prefetch" href="/assets/js/18.11e29de6.js"><link rel="prefetch" href="/assets/js/19.8a55d76b.js"><link rel="prefetch" href="/assets/js/20.e4a0d4f9.js"><link rel="prefetch" href="/assets/js/21.bfa3ed5f.js"><link rel="prefetch" href="/assets/js/22.881078d3.js"><link rel="prefetch" href="/assets/js/23.b7063063.js"><link rel="prefetch" href="/assets/js/24.21afc6da.js"><link rel="prefetch" href="/assets/js/25.863e4060.js"><link rel="prefetch" href="/assets/js/26.3b9440f2.js"><link rel="prefetch" href="/assets/js/27.02956fa3.js"><link rel="prefetch" href="/assets/js/28.d326838a.js"><link rel="prefetch" href="/assets/js/29.f4789005.js"><link rel="prefetch" href="/assets/js/30.178fccd3.js"><link rel="prefetch" href="/assets/js/31.5e994fb5.js"><link rel="prefetch" href="/assets/js/32.69ace0dc.js"><link rel="prefetch" href="/assets/js/33.e80e519b.js"><link rel="prefetch" href="/assets/js/34.11406db4.js"><link rel="prefetch" href="/assets/js/35.70105e9a.js"><link rel="prefetch" href="/assets/js/36.7e1aa7a6.js"><link rel="prefetch" href="/assets/js/37.8f4fbae0.js"><link rel="prefetch" href="/assets/js/38.c0b3f0ad.js"><link rel="prefetch" href="/assets/js/39.2910de4d.js"><link rel="prefetch" href="/assets/js/4.d53fc5cb.js"><link rel="prefetch" href="/assets/js/40.96057ad6.js"><link rel="prefetch" href="/assets/js/41.7b92e916.js"><link rel="prefetch" href="/assets/js/42.cc499b8b.js"><link rel="prefetch" href="/assets/js/43.29ddf432.js"><link rel="prefetch" href="/assets/js/44.49411b58.js"><link rel="prefetch" href="/assets/js/45.f28f6522.js"><link rel="prefetch" href="/assets/js/46.e9ddcabc.js"><link rel="prefetch" href="/assets/js/47.282e2a7d.js"><link rel="prefetch" href="/assets/js/48.519e3a8e.js"><link rel="prefetch" href="/assets/js/49.242aa181.js"><link rel="prefetch" href="/assets/js/5.7aedaec4.js"><link rel="prefetch" href="/assets/js/50.1317de68.js"><link rel="prefetch" href="/assets/js/51.c34b4a17.js"><link rel="prefetch" href="/assets/js/52.3b7dd990.js"><link rel="prefetch" href="/assets/js/53.ed1e8e58.js"><link rel="prefetch" href="/assets/js/54.e8e04427.js"><link rel="prefetch" href="/assets/js/55.91b961cc.js"><link rel="prefetch" href="/assets/js/56.1f4b4373.js"><link rel="prefetch" href="/assets/js/57.24930676.js"><link rel="prefetch" href="/assets/js/58.0c07ef31.js"><link rel="prefetch" href="/assets/js/59.97c8f9ce.js"><link rel="prefetch" href="/assets/js/6.56dd9870.js"><link rel="prefetch" href="/assets/js/60.f576cac3.js"><link rel="prefetch" href="/assets/js/61.6e4fb3ef.js"><link rel="prefetch" href="/assets/js/62.500fedcd.js"><link rel="prefetch" href="/assets/js/63.7f31b89f.js"><link rel="prefetch" href="/assets/js/64.31554884.js"><link rel="prefetch" href="/assets/js/65.18b55458.js"><link rel="prefetch" href="/assets/js/66.4afdc430.js"><link rel="prefetch" href="/assets/js/67.61362a31.js"><link rel="prefetch" href="/assets/js/68.65a12531.js"><link rel="prefetch" href="/assets/js/69.541c8690.js"><link rel="prefetch" href="/assets/js/7.799fb789.js"><link rel="prefetch" href="/assets/js/70.ed1a8749.js"><link rel="prefetch" href="/assets/js/71.201c3cf0.js"><link rel="prefetch" href="/assets/js/72.e314ebf4.js"><link rel="prefetch" href="/assets/js/73.83a7e061.js"><link rel="prefetch" href="/assets/js/74.b3e1c780.js"><link rel="prefetch" href="/assets/js/75.c79f5b1a.js"><link rel="prefetch" href="/assets/js/76.1a92c366.js"><link rel="prefetch" href="/assets/js/77.7c7a602c.js"><link rel="prefetch" href="/assets/js/78.dd3c1e50.js"><link rel="prefetch" href="/assets/js/79.ff0da6f3.js"><link rel="prefetch" href="/assets/js/8.d10012db.js"><link rel="prefetch" href="/assets/js/80.4fdb3bf5.js"><link rel="prefetch" href="/assets/js/81.e8c76ed8.js"><link rel="prefetch" href="/assets/js/82.bacff8ea.js"><link rel="prefetch" href="/assets/js/83.355ad832.js"><link rel="prefetch" href="/assets/js/84.7aaaca56.js"><link rel="prefetch" href="/assets/js/85.5cfb875b.js"><link rel="prefetch" href="/assets/js/86.03aa4eeb.js"><link rel="prefetch" href="/assets/js/87.eacb2bae.js"><link rel="prefetch" href="/assets/js/88.eb7da425.js"><link rel="prefetch" href="/assets/js/89.8d98fea8.js"><link rel="prefetch" href="/assets/js/90.912b6c51.js"><link rel="prefetch" href="/assets/js/91.47042b16.js"><link rel="prefetch" href="/assets/js/92.2bab0beb.js"><link rel="prefetch" href="/assets/js/93.fe1eb37c.js"><link rel="prefetch" href="/assets/js/94.ddb8318d.js"><link rel="prefetch" href="/assets/js/95.026e939f.js"><link rel="prefetch" href="/assets/js/96.7f41b6ed.js">
    <link rel="stylesheet" href="/assets/css/0.styles.71994f2f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-1156296a><div data-v-1156296a><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-1156296a data-v-1156296a><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-4e82dffc data-v-1156296a data-v-1156296a><h3 class="title" data-v-4e82dffc data-v-4e82dffc>Chener丶</h3> <p class="description" data-v-4e82dffc data-v-4e82dffc>weigao.cc</p> <label id="box" class="inputBox" data-v-4e82dffc data-v-4e82dffc><input type="password" value="" data-v-4e82dffc> <span data-v-4e82dffc>Konck! Knock!</span> <button data-v-4e82dffc>OK</button></label> <div class="footer" data-v-4e82dffc data-v-4e82dffc><span data-v-4e82dffc><i class="iconfont reco-theme" data-v-4e82dffc></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-4e82dffc>vuePress-theme-reco</a></span> <span data-v-4e82dffc><i class="iconfont reco-copyright" data-v-4e82dffc></i> <a data-v-4e82dffc><span data-v-4e82dffc>weigaochen</span>
            
          <span data-v-4e82dffc>2017 - </span>
          2022
        </a></span></div></div> <div class="hide" data-v-1156296a><header class="navbar" data-v-1156296a><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="Chener丶" class="logo"> <span class="site-name">Chener丶</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/Algorithm/" class="nav-link"><i class="undefined"></i>
  Algorithm
</a></li><li class="dropdown-item"><!----> <a href="/categories/Server/" class="nav-link"><i class="undefined"></i>
  Server
</a></li><li class="dropdown-item"><!----> <a href="/categories/Cloud/" class="nav-link"><i class="undefined"></i>
  Cloud
</a></li><li class="dropdown-item"><!----> <a href="/categories/Linux/" class="nav-link"><i class="undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/categories/Database/" class="nav-link"><i class="undefined"></i>
  Database
</a></li><li class="dropdown-item"><!----> <a href="/categories/Frameworks/" class="nav-link"><i class="undefined"></i>
  Frameworks
</a></li><li class="dropdown-item"><!----> <a href="/categories/Python/" class="nav-link"><i class="undefined"></i>
  Python
</a></li><li class="dropdown-item"><!----> <a href="/categories/Frontend/" class="nav-link"><i class="undefined"></i>
  Frontend
</a></li><li class="dropdown-item"><!----> <a href="/categories/Grammar/" class="nav-link"><i class="undefined"></i>
  Grammar
</a></li><li class="dropdown-item"><!----> <a href="/categories/Networks/" class="nav-link"><i class="undefined"></i>
  Networks
</a></li><li class="dropdown-item"><!----> <a href="/categories/Others/" class="nav-link"><i class="undefined"></i>
  Others
</a></li><li class="dropdown-item"><!----> <a href="/categories/Projects/" class="nav-link"><i class="undefined"></i>
  Projects
</a></li><li class="dropdown-item"><!----> <a href="/categories/Research/" class="nav-link"><i class="undefined"></i>
  Research
</a></li><li class="dropdown-item"><!----> <a href="/categories/Tools/" class="nav-link"><i class="undefined"></i>
  Tools
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="mailto:mail@weigao.cc" class="nav-link external"><i class="iconfont reco-mail"></i>
  Email
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/chenweigao" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-1156296a></div> <aside class="sidebar" data-v-1156296a><div class="personal-info-wrapper" data-v-828910c6 data-v-1156296a><img src="/avatar.png" alt="author-avatar" class="personal-img" data-v-828910c6> <h3 class="name" data-v-828910c6>
    weigaochen
  </h3> <div class="num" data-v-828910c6><div data-v-828910c6><h3 data-v-828910c6>79</h3> <h6 data-v-828910c6>文章</h6></div> <div data-v-828910c6><h3 data-v-828910c6>58</h3> <h6 data-v-828910c6>标签</h6></div></div> <ul class="social-links" data-v-828910c6></ul> <hr data-v-828910c6></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/Algorithm/" class="nav-link"><i class="undefined"></i>
  Algorithm
</a></li><li class="dropdown-item"><!----> <a href="/categories/Server/" class="nav-link"><i class="undefined"></i>
  Server
</a></li><li class="dropdown-item"><!----> <a href="/categories/Cloud/" class="nav-link"><i class="undefined"></i>
  Cloud
</a></li><li class="dropdown-item"><!----> <a href="/categories/Linux/" class="nav-link"><i class="undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/categories/Database/" class="nav-link"><i class="undefined"></i>
  Database
</a></li><li class="dropdown-item"><!----> <a href="/categories/Frameworks/" class="nav-link"><i class="undefined"></i>
  Frameworks
</a></li><li class="dropdown-item"><!----> <a href="/categories/Python/" class="nav-link"><i class="undefined"></i>
  Python
</a></li><li class="dropdown-item"><!----> <a href="/categories/Frontend/" class="nav-link"><i class="undefined"></i>
  Frontend
</a></li><li class="dropdown-item"><!----> <a href="/categories/Grammar/" class="nav-link"><i class="undefined"></i>
  Grammar
</a></li><li class="dropdown-item"><!----> <a href="/categories/Networks/" class="nav-link"><i class="undefined"></i>
  Networks
</a></li><li class="dropdown-item"><!----> <a href="/categories/Others/" class="nav-link"><i class="undefined"></i>
  Others
</a></li><li class="dropdown-item"><!----> <a href="/categories/Projects/" class="nav-link"><i class="undefined"></i>
  Projects
</a></li><li class="dropdown-item"><!----> <a href="/categories/Research/" class="nav-link"><i class="undefined"></i>
  Research
</a></li><li class="dropdown-item"><!----> <a href="/categories/Tools/" class="nav-link"><i class="undefined"></i>
  Tools
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="mailto:mail@weigao.cc" class="nav-link external"><i class="iconfont reco-mail"></i>
  Email
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/chenweigao" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-4e82dffc data-v-1156296a><h3 class="title" data-v-4e82dffc data-v-4e82dffc>Algorithm of Back Track</h3> <!----> <label id="box" class="inputBox" data-v-4e82dffc data-v-4e82dffc><input type="password" value="" data-v-4e82dffc> <span data-v-4e82dffc>Konck! Knock!</span> <button data-v-4e82dffc>OK</button></label> <div class="footer" data-v-4e82dffc data-v-4e82dffc><span data-v-4e82dffc><i class="iconfont reco-theme" data-v-4e82dffc></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-4e82dffc>vuePress-theme-reco</a></span> <span data-v-4e82dffc><i class="iconfont reco-copyright" data-v-4e82dffc></i> <a data-v-4e82dffc><span data-v-4e82dffc>weigaochen</span>
            
          <span data-v-4e82dffc>2017 - </span>
          2022
        </a></span></div></div> <div data-v-1156296a><main class="page"><section><div class="page-title"><h1 class="title">Algorithm of Back Track</h1> <div data-v-1ff7123e><i class="iconfont reco-account" data-v-1ff7123e><span data-v-1ff7123e>weigaochen</span></i> <i class="iconfont reco-date" data-v-1ff7123e><span data-v-1ff7123e>2021/10/15</span></i> <!----> <i class="tags iconfont reco-tag" data-v-1ff7123e><span class="tag-item" data-v-1ff7123e>algorithm</span></i></div></div> <div class="theme-reco-content content__default"><p><strong>回溯法</strong>（英语：backtracking）是<a href="https://zh.wikipedia.org/wiki/%E6%9A%B4%E5%8A%9B%E6%90%9C%E5%B0%8B%E6%B3%95" target="_blank" rel="noopener noreferrer">暴力搜索法<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>中的一种。</p> <p>对于某些计算问题而言，回溯法是一种可以找出所有（或一部分）解的一般性算法，尤其适用于<a href="https://zh.wikipedia.org/wiki/%E7%BA%A6%E6%9D%9F%E8%A1%A5%E5%81%BF%E9%97%AE%E9%A2%98" target="_blank" rel="noopener noreferrer">约束补偿问题<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>（在解决约束满足问题时，我们逐步构造更多的候选解，并且在确定某一部分候选解不可能补全成正确解之后放弃继续搜索这个部分候选解本身及其可以拓展出的子候选解，转而测试其他的部分候选解）。</p> <p>在经典的教科书中，<a href="https://zh.wikipedia.org/wiki/%E5%85%AB%E7%9A%87%E5%90%8E%E9%97%AE%E9%A2%98" target="_blank" rel="noopener noreferrer">八皇后问题<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>展示了回溯法的用例。（八皇后问题是在标准国际象棋棋盘中寻找八个皇后的所有分布，使得没有一个皇后能攻击到另外一个。）</p> <p>回溯法采用<a href="https://zh.wikipedia.org/wiki/%E8%AF%95%E9%94%99" target="_blank" rel="noopener noreferrer">试错<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的思想，它尝试分步的去解决一个问题。在分步解决问题的过程中，当它通过尝试发现，现有的分步答案不能得到有效的正确的解答的时候，它将取消上一步甚至是上几步的计算，再通过其它的可能的分步解答再次尝试寻找问题的答案。回溯法通常用最简单的<a href="https://zh.wikipedia.org/wiki/%E9%80%92%E5%BD%92" target="_blank" rel="noopener noreferrer">递归<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>方法来实现，在反复重复上述的步骤后可能出现两种情况：</p> <ul><li>找到一个可能存在的正确的答案</li> <li>在尝试了所有可能的分步方法后宣告该问题没有答案</li></ul> <p>在最坏的情况下，回溯法会导致一次<a href="https://zh.wikipedia.org/wiki/%E8%AE%A1%E7%AE%97%E5%A4%8D%E6%9D%82%E6%80%A7%E7%90%86%E8%AE%BA" target="_blank" rel="noopener noreferrer">复杂度<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>为<a href="https://zh.wikipedia.org/wiki/%E6%8C%87%E6%95%B8%E6%99%82%E9%96%93" target="_blank" rel="noopener noreferrer">指数时间<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的计算。</p> <h2 id="回溯-模板"><a href="#回溯-模板" class="header-anchor">#</a> 回溯：模板</h2> <p>总结回溯的模板如下：</p> <div class="language-python extra-class"><pre class="language-python"><code>result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">def</span> <span class="token function">back_track</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> choices<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> OK<span class="token punctuation">:</span>
        result<span class="token punctuation">.</span>append<span class="token punctuation">(</span>path<span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> choice <span class="token keyword">in</span> choices<span class="token punctuation">:</span>
            make_choices<span class="token punctuation">(</span><span class="token punctuation">)</span>
            back_tarack<span class="token punctuation">(</span>path<span class="token punctuation">,</span> choices<span class="token punctuation">)</span>
            undo_choices<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>其中 path 表示路径，choices 表示做出的选择。</p> <h2 id="例题解析-排列组合类"><a href="#例题解析-排列组合类" class="header-anchor">#</a> 例题解析 - 排列组合类</h2> <h3 id="lc17-电话号码的字母组合"><a href="#lc17-电话号码的字母组合" class="header-anchor">#</a> LC17 电话号码的字母组合</h3> <blockquote><p>给定一个仅包含数字 2-9 的字符串，返回所有它能表示的字母组合。答案可以按 任意顺序 返回。</p> <p>给出数字到字母的映射如下（与电话按键相同）。注意 1 不对应任何字母。</p> <p>输入：digits = &quot;23&quot;</p> <p>输出：[&quot;ad&quot;,&quot;ae&quot;,&quot;af&quot;,&quot;bd&quot;,&quot;be&quot;,&quot;bf&quot;,&quot;cd&quot;,&quot;ce&quot;,&quot;cf&quot;]</p> <p>来源：力扣（LeetCode）</p> <p>链接：https://leetcode-cn.com/problems/letter-combinations-of-a-phone-number
 著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。</p></blockquote> <p>解法：标准回溯：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">letterCombinations</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> digits<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> List<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> digits<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

        dig2alph <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token string">'2'</span><span class="token punctuation">:</span> <span class="token string">'abc'</span><span class="token punctuation">,</span>
            <span class="token string">'3'</span><span class="token punctuation">:</span> <span class="token string">'def'</span><span class="token punctuation">,</span>
            <span class="token string">'4'</span><span class="token punctuation">:</span> <span class="token string">'ghi'</span><span class="token punctuation">,</span>
            <span class="token string">'5'</span><span class="token punctuation">:</span> <span class="token string">'jkl'</span><span class="token punctuation">,</span>
            <span class="token string">'6'</span><span class="token punctuation">:</span> <span class="token string">'mno'</span><span class="token punctuation">,</span>
            <span class="token string">'7'</span><span class="token punctuation">:</span> <span class="token string">'pqrs'</span><span class="token punctuation">,</span>
            <span class="token string">'8'</span><span class="token punctuation">:</span> <span class="token string">'tuv'</span><span class="token punctuation">,</span>
            <span class="token string">'9'</span><span class="token punctuation">:</span> <span class="token string">'wxyz'</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">def</span> <span class="token function">back_track</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> index <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>digits<span class="token punctuation">)</span><span class="token punctuation">:</span>
                res<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>combination<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                digit <span class="token operator">=</span> digits<span class="token punctuation">[</span>index<span class="token punctuation">]</span>
                <span class="token keyword">for</span> ch <span class="token keyword">in</span> dig2alph<span class="token punctuation">[</span>digit<span class="token punctuation">]</span><span class="token punctuation">:</span>
                    combination<span class="token punctuation">.</span>append<span class="token punctuation">(</span>ch<span class="token punctuation">)</span>
                    back_track<span class="token punctuation">(</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
                    combination<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>

        combination <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        res <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        back_track<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> res
</code></pre></div><h3 id="lc22-括号生成"><a href="#lc22-括号生成" class="header-anchor">#</a> LC22 括号生成</h3> <blockquote><p>数字  <code>n</code>  代表生成括号的对数，请你设计一个函数，用于能够生成所有可能的并且 <strong>有效的</strong> 括号组合。</p> <p>有效括号组合需满足：左括号必须以正确的顺序闭合。</p></blockquote> <p>解法：回溯。通过 left 和 right 是否 &quot;平衡&quot; 来筛选一下数据。</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">generateParenthesis</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> List<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

        <span class="token keyword">def</span> <span class="token function">back_track</span><span class="token punctuation">(</span>A<span class="token punctuation">:</span> <span class="token builtin">list</span><span class="token punctuation">,</span> left<span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token comment"># 比如 n == 3 时，生成的括号总数为 2*3 个</span>
            <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">2</span> <span class="token operator">*</span> n<span class="token punctuation">:</span>
                res<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token keyword">return</span>
            <span class="token keyword">if</span> left <span class="token operator">&lt;</span> n<span class="token punctuation">:</span>
                A<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">'('</span><span class="token punctuation">)</span>
                back_track<span class="token punctuation">(</span>A<span class="token punctuation">,</span> left <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> right<span class="token punctuation">)</span>
                A<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> right <span class="token operator">&lt;</span> left<span class="token punctuation">:</span>
                A<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">')'</span><span class="token punctuation">)</span>
                back_track<span class="token punctuation">(</span>A<span class="token punctuation">,</span> left<span class="token punctuation">,</span> right <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
                A<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>

        back_track<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> res
</code></pre></div><p>如果不使用该方法的话，可能需要使用较为 “暴力” 的解法：
(不过该解法比较适合用来理解回溯的思想)</p> <div class="language-python extra-class"><pre class="language-python"><code>    <span class="token keyword">def</span> <span class="token function">generateParenthesis</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> List<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">]</span><span class="token punctuation">:</span>

        <span class="token keyword">def</span> <span class="token function">generate</span><span class="token punctuation">(</span>A<span class="token punctuation">:</span> <span class="token builtin">list</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">2</span> <span class="token operator">*</span> n<span class="token punctuation">:</span>
                <span class="token keyword">if</span> is_valid<span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">:</span>
                    res<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                A<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">'('</span><span class="token punctuation">)</span>
                generate<span class="token punctuation">(</span>A<span class="token punctuation">)</span>
                A<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>
                A<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">')'</span><span class="token punctuation">)</span>
                generate<span class="token punctuation">(</span>A<span class="token punctuation">)</span>
                A<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token keyword">def</span> <span class="token function">is_valid</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">:</span>
            balance <span class="token operator">=</span> <span class="token number">0</span>
            <span class="token keyword">for</span> ch <span class="token keyword">in</span> A<span class="token punctuation">:</span>
                <span class="token keyword">if</span> ch <span class="token operator">==</span> <span class="token string">'('</span><span class="token punctuation">:</span>
                    balance <span class="token operator">+=</span> <span class="token number">1</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    balance <span class="token operator">-=</span> <span class="token number">1</span>
                <span class="token keyword">if</span> balance <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
                    <span class="token keyword">return</span> <span class="token boolean">False</span>
            <span class="token keyword">return</span> balance <span class="token operator">==</span> <span class="token number">0</span>

        res <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        generate<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> res
</code></pre></div><h3 id="lc39-组合总数"><a href="#lc39-组合总数" class="header-anchor">#</a> LC39 组合总数</h3> <blockquote><p>给定一个无重复元素的正整数数组 candidates 和一个正整数 target ，找出 candidates 中所有可以使数字和为目标数 target 的唯一组合。</p> <p>candidates 中的数字可以无限制重复被选取。如果至少一个所选数字数量不同，则两种组合是唯一的。</p> <p>输入: candidates = [2,3,6,7], target = 7</p> <p>输出: [[7],[2,2,3]]</p> <p>来源：力扣（LeetCode）
链接：https://leetcode-cn.com/problems/combination-sum
 著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。</p></blockquote> <p>套用上述的公式，写出的解法如下：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">combinationSum</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> candidates<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

        <span class="token keyword">def</span> <span class="token function">back_track</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span> <span class="token operator">==</span> target <span class="token keyword">and</span> <span class="token builtin">sorted</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span> <span class="token keyword">not</span> <span class="token keyword">in</span> res<span class="token punctuation">:</span>
                res<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">sorted</span><span class="token punctuation">(</span>A<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token keyword">return</span>
            <span class="token keyword">if</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span> <span class="token operator">&gt;</span> target<span class="token punctuation">:</span>
                <span class="token keyword">return</span>
            <span class="token keyword">for</span> c <span class="token keyword">in</span> candidates<span class="token punctuation">:</span>
                A<span class="token punctuation">.</span>append<span class="token punctuation">(</span>c<span class="token punctuation">)</span>
                back_track<span class="token punctuation">(</span>A<span class="token punctuation">)</span>
                A<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>

        back_track<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> res
</code></pre></div><p>注意到 sum (A) 大于 target 被剪枝，这样就减少了计算量。第二是通过排序的操作筛选出了已经存在的组合。</p> <p>但是该算法还存在很大的优化点，因为我们的 “剪枝” 操作过于原始，在这种<strong>不需要考虑顺序</strong>的题目中，应当考虑更加高效的方法。</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution2</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">combinationSum</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> candidates<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

        <span class="token keyword">def</span> <span class="token function">back_track</span><span class="token punctuation">(</span>A<span class="token punctuation">:</span> <span class="token builtin">list</span><span class="token punctuation">,</span> cur_sum<span class="token punctuation">,</span> begin<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> cur_sum <span class="token operator">==</span> target<span class="token punctuation">:</span>
                res<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">sorted</span><span class="token punctuation">(</span>A<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token keyword">return</span>
            <span class="token keyword">if</span> cur_sum <span class="token operator">&gt;</span> target<span class="token punctuation">:</span>
                <span class="token keyword">return</span>
            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>begin<span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>candidates<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token comment"># 剪枝</span>
                <span class="token keyword">if</span> cur_sum <span class="token operator">+</span> candidates<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> target<span class="token punctuation">:</span>
                    <span class="token keyword">return</span>

                cur_sum <span class="token operator">+=</span> candidates<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
                A<span class="token punctuation">.</span>append<span class="token punctuation">(</span>candidates<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
                <span class="token operator">//</span> 不用i<span class="token operator">+</span><span class="token number">1</span>，表示可以重复读取当前的数
                back_track<span class="token punctuation">(</span>A<span class="token punctuation">,</span> cur_sum<span class="token punctuation">,</span> i<span class="token punctuation">)</span>
                cur_sum <span class="token operator">-=</span> candidates<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
                A<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>
        candidates<span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token punctuation">)</span>
        back_track<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> res
</code></pre></div><p>注意到这个回溯之前我们先进行了排序 <code>candidates.sort()</code> , 这个剪枝相比于上面的解法高明之处在哪里呢？</p> <ul><li>如果题目要求，结果集不计算顺序，此时需要按顺序搜索，才能做到不重不漏。（为何排序？按照特定搜索指定了  <code>begin</code> ）</li> <li>使用了一个  <code>begin</code>  变量，这个变量用于组合问题，不讲究顺序（即  <code>[2, 2, 3]</code>  与  <code>[2, 3, 2]</code>  视为相同列表时），需要按照某种顺序搜索。</li></ul> <p>理解  <code>cur_sum</code>  的优点在于：对于刚开始的原始解法，，对于 sum 已经大于 target 的情况，其实是依然进入了下一层递归，只是下一层递归结束判断的时候，会判断 sum &gt; target 的话就返回。其实如果已经知道下一层的 sum 会大于 target，就没有必要进入下一层递归了。所以我们在 for 循环中做了文章，使用  <code>cur_sum</code>  来判断如果下一层的 sum 已经大于 target，就没有必要走下去了，而是直接结束本轮 for 循环的遍历。</p> <p>参考该<a href="https://programmercarl.com/0039.%E7%BB%84%E5%90%88%E6%80%BB%E5%92%8C.html#%E5%89%AA%E6%9E%9D%E4%BC%98%E5%8C%96" target="_blank" rel="noopener noreferrer"> blog<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="lc40-组合总数ii"><a href="#lc40-组合总数ii" class="header-anchor">#</a> LC40 组合总数 II</h3> <p>不同于 LC39 组合总数，LC40 要求 <code>candidates</code>  中的每个数字在每个组合中只能使用一次。</p> <p>举例而言：</p> <blockquote><p>输入: candidates = [10,1,2,7,6,1,5], target = 8,</p> <p>输出:
[
[1,1,6],
[1,2,5],
[1,7],
[2,6]
]</p> <p>来源：力扣（LeetCode）
链接：https://leetcode-cn.com/problems/combination-sum-ii
 著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。</p></blockquote> <p>题目的意思是，每个数字在每一个答案里面只能用一次，无法重复使用，因此如何达到这个限制是本题目的难点，解决方案是使用比较高级的剪枝，与上述题目只有一点不同，具体看代码：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">combinationSum2</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> candidates<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

        <span class="token keyword">def</span> <span class="token function">back_track</span><span class="token punctuation">(</span>A<span class="token punctuation">:</span> <span class="token builtin">list</span><span class="token punctuation">,</span> cur_sum<span class="token punctuation">,</span> begin<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> cur_sum <span class="token operator">==</span> target<span class="token punctuation">:</span>
                res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>A<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                <span class="token keyword">return</span>
            <span class="token keyword">if</span> cur_sum <span class="token operator">&gt;</span> target<span class="token punctuation">:</span>
                <span class="token keyword">return</span>

            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>begin<span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>candidates<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> cur_sum <span class="token operator">+</span> candidates<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> target<span class="token punctuation">:</span>
                    <span class="token keyword">return</span>

                <span class="token keyword">if</span> i <span class="token operator">&gt;</span> begin <span class="token keyword">and</span> candidates<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> candidates<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                    <span class="token keyword">continue</span>

                cur_sum <span class="token operator">+=</span> candidates<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
                A<span class="token punctuation">.</span>append<span class="token punctuation">(</span>candidates<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
                back_track<span class="token punctuation">(</span>A<span class="token punctuation">,</span> cur_sum<span class="token punctuation">,</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
                cur_sum <span class="token operator">-=</span> candidates<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
                A<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>

        candidates<span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token punctuation">)</span>
        back_track<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> res
</code></pre></div><p>可以看到，我们在代码中增加了一段剪枝：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">if</span> i <span class="token operator">&gt;</span> begin <span class="token keyword">and</span> candidates<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> candidates<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
    <span class="token keyword">continue</span>
</code></pre></div><p>并且在回溯的时候把 begin 设置为了  <code>i+1</code> ，个人的理解是，这一步操作排除了当前层的节点，从下一层开始找，达到了我们剪枝的目的。（去重 “同一树层上使用过的” 元素）</p> <div class="language-python extra-class"><pre class="language-python"><code>back_track<span class="token punctuation">(</span>A<span class="token punctuation">,</span> cur_sum<span class="token punctuation">,</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
</code></pre></div><p>对这个  <code>begin</code>  的理解是：其作用相当于标记了 used 元素（使用 used 数组标记效果相同），我们在 sort () 的情况下用 begin 是可以的。</p> <p><strong>（需要加深理解，不一定正确。）</strong></p> <h3 id="lc46-全排列"><a href="#lc46-全排列" class="header-anchor">#</a> LC46 全排列</h3> <p>在解决了上面的那些问题以后，全排列问题就变得简单了，全排列问题举例如下：</p> <blockquote><p>给定一个不含重复数字的数组  <code>nums</code>  ，返回其 <strong>所有可能的全排列</strong> 。你可以 <strong>按任意顺序</strong> 返回答案。</p> <p>输入：nums = [1,2,3]</p> <p>输出：[[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]</p></blockquote> <p>该题目使用回溯可以很方便的求解：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">permute</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

        <span class="token keyword">def</span> <span class="token function">back_track</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">:</span>
                res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>path<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                <span class="token keyword">return</span>
            
            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token keyword">in</span> path<span class="token punctuation">:</span>
                    <span class="token keyword">continue</span>

                path<span class="token punctuation">.</span>append<span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
                back_track<span class="token punctuation">(</span>path<span class="token punctuation">)</span>
                path<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>

        back_track<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> res
</code></pre></div><p>全排列是经典的回溯问题，套用回溯模板可以很轻松求解。</p> <h3 id="lc47-全排列ii"><a href="#lc47-全排列ii" class="header-anchor">#</a> LC47 全排列 II</h3> <blockquote><p>给定一个可包含重复数字的序列  <code>nums</code>  ，<strong>按任意顺序</strong> 返回所有不重复的全排列。</p> <p>输入：nums = [1,1,2]</p> <p>输出：
[[1,1,2],
[1,2,1],
[2,1,1]]</p></blockquote> <p>解法如下：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">permuteUnique</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

        <span class="token keyword">def</span> <span class="token function">back_track</span><span class="token punctuation">(</span>path<span class="token punctuation">:</span> List<span class="token punctuation">,</span> visited<span class="token punctuation">:</span> List<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">:</span>
                res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>path<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                <span class="token keyword">return</span>

            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
                    <span class="token keyword">continue</span>
				
                <span class="token comment"># visited[i - 1] == 1 在该题目中同理，但是性能较差</span>
                <span class="token keyword">if</span> i <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token keyword">and</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> nums<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token keyword">and</span> visited<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
                    <span class="token keyword">continue</span>

                visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
                path<span class="token punctuation">.</span>append<span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
                back_track<span class="token punctuation">(</span>path<span class="token punctuation">,</span> visited<span class="token punctuation">)</span>
                visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
                path<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>

        nums<span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token punctuation">)</span>

        visited <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> nums<span class="token punctuation">]</span>
        back_track<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> visited<span class="token punctuation">)</span>
        <span class="token keyword">return</span> res
</code></pre></div><p>这道题目不同于<em>全排列</em>的点在于：</p> <ul><li>集合中有重复的元素，但是最后的结果中不能有重复的组合。我们需要对结果进行去重（直观的思路是用 set，但是容易超时）</li> <li>nums [i] 和 nums [i - 1] 可以理解为同一层的当前选项和同一层的前一个选项</li> <li>该题目中有两个变量去重，如果仅有 <code>num[i] == num[i-1]</code>  条件存在，递归时会把相同元素去除，显然不是我们想要的，所以加上了  <code>vistied</code> ，防止漏掉元素</li> <li>如果  <code>visited[i - 1] == 1</code> ，说明在同一层，并且  <code>num[i] == num[i-1]</code> ，所有可能的组合都早已被这一层第一次出现的那个相同数穷尽了，不需要再画蛇添足。</li></ul> <div class="custom-block warning"><p class="title">todo</p><p>需要拿 iPad 画图分析一下 visited [i - 1] == 1 和 visited [i - 1] == 0 的剪枝差异，可以参考 <a href="https://leetcode-cn.com/problems/permutations-ii/solution/dai-ma-sui-xiang-lu-dai-ni-xue-tou-hui-s-ki1h/" target="_blank" rel="noopener noreferrer">题解<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div><h3 id="lc77-组合"><a href="#lc77-组合" class="header-anchor">#</a> LC77 组合</h3> <blockquote><p>给定两个整数  <code>n</code>  和  <code>k</code> ，返回范围  <code>[1, n]</code>  中所有可能的  <code>k</code>  个数的组合。</p> <p>你可以按 <strong>任何顺序</strong> 返回答案。</p> <p>输入：n = 4, k = 2
 输出：
[
[2,4],
[3,4],
[2,3],
[1,2],
[1,3],
[1,4],
]</p></blockquote> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">combine</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> k<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

        nums <span class="token operator">=</span> <span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">]</span>

        <span class="token keyword">def</span> <span class="token function">back_track</span><span class="token punctuation">(</span>path<span class="token punctuation">:</span> List<span class="token punctuation">,</span> begin<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span> <span class="token operator">==</span> k<span class="token punctuation">:</span>
                res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>path<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                <span class="token keyword">return</span>

            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>begin<span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> i <span class="token operator">&gt;</span> begin <span class="token keyword">and</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> nums<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                    <span class="token keyword">continue</span>

                path<span class="token punctuation">.</span>append<span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
                back_track<span class="token punctuation">(</span>path<span class="token punctuation">,</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
                path<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>

        back_track<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> res
</code></pre></div><h2 id="例题解析-dfs-类"><a href="#例题解析-dfs-类" class="header-anchor">#</a> 例题解析 - DFS 类</h2> <h3 id="lc37-解数独"><a href="#lc37-解数独" class="header-anchor">#</a> LC37 解数独</h3> <p><a href="https://leetcode-cn.com/problems/sudoku-solver/" target="_blank" rel="noopener noreferrer">37. 解数独<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>我们先给出这个题目的解法，然后对这个解法进行深入的分析：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">solveSudoku</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> board<span class="token punctuation">:</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;
        Do not return anything, modify board in-place instead.
        注意数组board是9*9大小的
        &quot;&quot;&quot;</span>

        <span class="token comment"># line 用来保存这一行是否某个数字已经出现过 line[2][4-1]表示第2行数字4已经出现过</span>
        line <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token boolean">False</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">9</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
        <span class="token comment"># colume 用来表示这一列某个数字是否已经出现过</span>
        colume <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token boolean">False</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">9</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
        <span class="token comment"># block 表示这个九宫格里面某个数字已经出现过 block[i][j][num]</span>
        <span class="token comment"># 这个里面有一个对应关系，坐标为 i,j 的数字其在九宫格里面的坐标为 [i/3], [j/3] 向下取整</span>
        block <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token boolean">False</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">9</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
        spaces <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        valid <span class="token operator">=</span> <span class="token boolean">False</span>

        <span class="token keyword">def</span> <span class="token function">dfs</span><span class="token punctuation">(</span>pos<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token comment"># 思考：这个valid用来做什么？</span>
            <span class="token keyword">nonlocal</span> valid
            <span class="token keyword">if</span> pos <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>spaces<span class="token punctuation">)</span><span class="token punctuation">:</span>
                valid <span class="token operator">=</span> <span class="token boolean">True</span>
                <span class="token keyword">return</span>

            i<span class="token punctuation">,</span> j <span class="token operator">=</span> spaces<span class="token punctuation">[</span>pos<span class="token punctuation">]</span>
            <span class="token keyword">for</span> num <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> line<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>num<span class="token punctuation">]</span> <span class="token operator">==</span> colume<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>num<span class="token punctuation">]</span> <span class="token operator">==</span> block<span class="token punctuation">[</span>i <span class="token operator">//</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">//</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span>num<span class="token punctuation">]</span> <span class="token keyword">is</span> <span class="token boolean">False</span><span class="token punctuation">:</span>
                    line<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>num<span class="token punctuation">]</span> <span class="token operator">=</span> colume<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>num<span class="token punctuation">]</span> <span class="token operator">=</span> block<span class="token punctuation">[</span>i <span class="token operator">//</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">//</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span>num<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">True</span>
                    board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>num <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
                    dfs<span class="token punctuation">(</span>pos <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
                    line<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>num<span class="token punctuation">]</span> <span class="token operator">=</span> colume<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>num<span class="token punctuation">]</span> <span class="token operator">=</span> block<span class="token punctuation">[</span>i <span class="token operator">//</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">//</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span>num<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">False</span>
                <span class="token keyword">if</span> valid<span class="token punctuation">:</span>
                    <span class="token keyword">return</span>

        <span class="token comment"># 初始化一下这些变量</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'.'</span><span class="token punctuation">:</span>
                    spaces<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    <span class="token comment"># int(board[i][j]) - 1 是因为我们定义了 [i][x-1]这样</span>
                    digit <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span>
                    line<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>digit<span class="token punctuation">]</span> <span class="token operator">=</span> colume<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>digit<span class="token punctuation">]</span> <span class="token operator">=</span> block<span class="token punctuation">[</span>i <span class="token operator">//</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">//</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span>digit<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">True</span>
        dfs<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token comment"># 题目要求原地改变 board，所以我们就没有 return</span>
</code></pre></div><p>解数独游戏是如何应用回溯思想的？我们通过题目中的一些细节来管中窥豹一番。</p> <ol><li><p>关于  <code>line</code> ,  <code>colume</code> ,  <code>block</code>  的初始化</p> <p>我们将这三个变量分别初始化：</p> <ul><li><code>line</code>  用来保存这一行是否某个数字已经出现过； <code>line[2][4-1]</code>  表示第 2 行数字 4 已经出现过，表现形式为  <code>line[2][3]</code> ，我们的下标是从 0 开始的； <code>colume</code>  也是同理的，不多赘述。</li> <li>对于  <code>line</code>  和  <code>colume</code>  的初始化，我们知道要初始化二维数组，并且数组的长和宽都为 9, 这样比较简单。</li> <li>我们将所有初始化初始值都设置为  <code>False</code> , 这是因为我们等会儿要遍历整个 board, 将已经填写过的数字设置为  <code>True</code> , 符合逻辑。</li></ul></li> <li><p>一些规律</p> <p>在九宫格中，如果给定了某个坐标  <code>(i, j)</code> , 那么我们就能计算出来这个坐标在九宫格中的位置；具体的规律是：<strong>第 i 行第 j 列的格子位于第 （i//3, j//3) 个九宫格中（向下取整）</strong>。其原理在于：九宫格的范围为 <mjx-container jax="CHTML" class="MathJax"><mjx-math class=" MJX-TEX"><mjx-mn class="mjx-n"><mjx-c c="0"></mjx-c></mjx-mn><mjx-mo space="4" class="mjx-n"><mjx-c c="2A7D"></mjx-c></mjx-mo><mjx-mi space="4" class="mjx-i"><mjx-c c="x"></mjx-c></mjx-mi><mjx-mo space="4" class="mjx-n"><mjx-c c="2A7D"></mjx-c></mjx-mo><mjx-mn space="4" class="mjx-n"><mjx-c c="2"></mjx-c></mjx-mn></mjx-math></mjx-container>, <mjx-container jax="CHTML" class="MathJax"><mjx-math class=" MJX-TEX"><mjx-mn class="mjx-n"><mjx-c c="0"></mjx-c></mjx-mn><mjx-mo space="4" class="mjx-n"><mjx-c c="2A7D"></mjx-c></mjx-mo><mjx-mi space="4" class="mjx-i"><mjx-c c="y"></mjx-c></mjx-mi><mjx-mo space="4" class="mjx-n"><mjx-c c="2A7D"></mjx-c></mjx-mo><mjx-mn space="4" class="mjx-n"><mjx-c c="2"></mjx-c></mjx-mn></mjx-math></mjx-container>。</p> <p>如果我们把这个规律扩展一下，对于一个 16 宫格，这个坐标会变成什么样子呢？通过画图我们发现就是整除 4 然后向下取整，可以记住这个规律。</p> <div class="custom-block tip"><p class="title">🍉🍉🍉 Python 的向下取整和向上取整</p><ul><li>向下取整直接整除；也可以使用  <code>math.floor()</code> ;</li> <li>向上取整： <code>math.ceil()</code> 。</li></ul></div></li> <li><p>我们使用了 dfs, 不可避免的一个问题是：递归的终止条件是什么？</p> <p>这个题目使用的方法十分巧妙，首先将 board 遍历一遍，将其中所有的非数字的坐标拿出来，然后遍历这些非数字坐标的集合。dfs 的遍历是标记遍历到第几个，当我们的  <code>pos</code>  和所有坐标集合  <code>spaces</code>  的长度相等时，遍历就结束了。</p></li> <li><p>我们为什么要使用一个  <code>valid</code>  变量？</p> <p>首先要思考，要是不使用这个变量的话，会发生什么？我们尝试将  <code>valid</code>  相关的逻辑删除以后，发现答案是错误的。</p> <p>目前的解释是，如果找到了结果不停止 DFS 的循环调用的话，会覆盖掉正确的答案。</p> <p>❓❓❓ 后续需要思考：是否和  <code>board</code>  是引用传值有关？</p></li> <li><p>进阶：</p> <p>这道题目还存在两种进阶的方式，包括：位运算的优化和枚举，具体可以参考官方题解。</p></li></ol> <h3 id="lc79-单词搜索"><a href="#lc79-单词搜索" class="header-anchor">#</a> LC79 单词搜索</h3> <p><a href="https://leetcode-cn.com/problems/word-search/" target="_blank" rel="noopener noreferrer">79. 单词搜索<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <blockquote><p>给定一个  <code>m x n</code>  二维字符网格  <code>board</code>  和一个字符串单词  <code>word</code>  。如果  <code>word</code>  存在于网格中，返回  <code>true</code>  ；否则，返回  <code>false</code>  。</p></blockquote> <p>这道题目非常有意思，思考这个题目，我们通常会想到 BFS + 剪枝，这道题目要和回溯关联上，我们需要思考一些问题，以后解决起来这种题目也更加简单从容：</p> <ol><li><p>如何开始？我们可以写一些我们比较擅长的，比如说  <code>board</code>  的某个坐标，是不是合法的，这个坐标的上下左右坐标我们可不可以拿到？</p> <p>我们定义寻路问题中基本的方向数组  <code>directs = [(0, -1), (0, 1), (-1, 0), (1, 0)]</code></p></li> <li><p>如果确定使用回溯（或者 DFS），那么我们可能会需要一个  <code>visited</code>  数组进行标记，这是一个二维数组，其初始化方式为： <code>visited = [[False] * len(board[0]) for _ in len(board)]</code> , 或者在 python 中我们使用更加简单暴力的 set () 来解决。</p></li></ol> <p>实现的代码如下：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">exist</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> board<span class="token punctuation">:</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> word<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">bool</span><span class="token punctuation">:</span>
        directs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

        <span class="token keyword">def</span> <span class="token function">back_track</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> word<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">!=</span> board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token boolean">False</span>
            <span class="token keyword">if</span> k <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token boolean">True</span>
            visited<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">for</span> di<span class="token punctuation">,</span> dj <span class="token keyword">in</span> directs<span class="token punctuation">:</span>
                newi<span class="token punctuation">,</span> newj <span class="token operator">=</span> i <span class="token operator">+</span> di<span class="token punctuation">,</span> j <span class="token operator">+</span> dj
                <span class="token keyword">if</span> <span class="token number">0</span> <span class="token operator">&lt;=</span> newi <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>board<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token number">0</span> <span class="token operator">&lt;=</span> newj <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>board<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>newi<span class="token punctuation">,</span> newj<span class="token punctuation">)</span> <span class="token keyword">not</span> <span class="token keyword">in</span> visited<span class="token punctuation">:</span>
                        <span class="token keyword">if</span> back_track<span class="token punctuation">(</span>newi<span class="token punctuation">,</span> newj<span class="token punctuation">,</span> k <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                            <span class="token keyword">return</span> <span class="token boolean">True</span>
            visited<span class="token punctuation">.</span>remove<span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">False</span>

        visited <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>board<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>board<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> word<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                    <span class="token keyword">if</span> back_track<span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                        <span class="token keyword">return</span> <span class="token boolean">True</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>
</code></pre></div><p>我们回溯（或者 DFS）进入的函数有三个参数， <code>(i, j, k)</code> , 其中  <code>k</code>  表示 word 中的第 k 个字符。</p> <ul><li>我们循环遍历  <code>board</code> ，直到找到和  <code>word</code>  第一个字符相等的位置  <code>(i, j)</code> , 然后从  <code>(i, j)</code>  开始回溯；如果没有找到这个第一个字符，则直接返回  <code>False</code> 。</li> <li>我们在写递归的时候要想清楚递归的返回条件，思考剪枝或者退出的条件。</li></ul> <p>除此之外，我们有一个更容易理解的写法：</p> <div class="language-python extra-class"><pre class="language-python"><code>    <span class="token keyword">def</span> <span class="token function">exist2</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> board<span class="token punctuation">:</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> word<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">bool</span><span class="token punctuation">:</span>
        <span class="token keyword">def</span> <span class="token function">search</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token comment"># 递归终止条件</span>
            <span class="token keyword">if</span> k <span class="token operator">&gt;=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token boolean">True</span>

            <span class="token keyword">if</span> i <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token keyword">or</span> j <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token keyword">or</span> i <span class="token operator">&gt;=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>board<span class="token punctuation">)</span> <span class="token keyword">or</span> j <span class="token operator">&gt;=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>board<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> \
                    <span class="token keyword">or</span> board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">!=</span> word<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token keyword">or</span> <span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span> <span class="token keyword">in</span> visited<span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token boolean">False</span>
            visited<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">)</span>

            ret <span class="token operator">=</span> search<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> k <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">or</span> search<span class="token punctuation">(</span>i<span class="token punctuation">,</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> k <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> \
                  <span class="token keyword">or</span> search<span class="token punctuation">(</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> k <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">or</span> search<span class="token punctuation">(</span>i<span class="token punctuation">,</span> j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> k <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>

            visited<span class="token punctuation">.</span>remove<span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> ret

        visited <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>board<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>board<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                res <span class="token operator">=</span> search<span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
                <span class="token keyword">if</span> res<span class="token punctuation">:</span>
                    <span class="token keyword">return</span> <span class="token boolean">True</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>
</code></pre></div><p>这个做法的优点在于，方便理解。我们从 (i, j, 0) 开始搜索，而后设置递归的终止条件和错误条件。</p> <p><code>visited.remove((i, j))</code>  是在我们进行了搜索后进行回溯。</p> <p>这个代码简单易懂，真不错！</p> <p>还有个细节需要注意的是这个代码块：</p> <div class="language-python extra-class"><pre class="language-python"><code>res <span class="token operator">=</span> search<span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> res<span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token boolean">True</span>
</code></pre></div><p>这个代码块放在了 for 循环里，只有当 res 返回 True 这个结果的时候，我们循环才退出；除非我们等到 for 循环结束，还没有找到正确的匹配项时，返回最终的 False。</p> <h3 id="lc93-复原-ip-地址-剪枝"><a href="#lc93-复原-ip-地址-剪枝" class="header-anchor">#</a> LC93 复原 IP 地址 (剪枝)</h3> <p><a href="https://leetcode-cn.com/problems/restore-ip-addresses/" target="_blank" rel="noopener noreferrer">93. 复原 IP 地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>这个题目和可信考试中的一道题目非常相似，看示例：</p> <blockquote><p>输入：s = &quot;25525511135&quot;</p> <p>输出：[&quot;255.255.11.135&quot;,&quot;255.255.111.35&quot;]</p></blockquote> <p>我们要对这个字符串进行分割，但是如何分割是合理的呢？比如说我们第一个点这样分割 <code>25.525511135</code> , 那么此时  <code>5525511135</code>  开头的 IP 地址肯定就是非法的了（介于 0~255 之间，这个只有  <code>52</code>  一种分割方法，后面 <code>25.52.5511135</code> 7 位数要分为 2 部分，已经不可能了），所以这就涉及到一个回溯和剪枝的问题。</p> <p>我们先尝试着去划分，然后设置一个简单的条件，就是分到后面不能再分了：</p> <ol><li>如果已经分了三次了，后面还有剩下的，不可以分了，比如剩下了四位，或者剩下的数据范围不对，都是不可以的</li> <li>如果分了一次，那么后面剩下的如果还有 13 位以上，也就不行了</li> <li>分的当前这个数据范围不 OK 也是不行的，注意到规则里面  <code>0xx</code>  这样的也不是合法的 IP</li> <li>如果某个访问过了，我们把结果就加入到已经访问的节点中去。估计需要两个去存储总的结果和当下的结果。</li></ol> <p>该题目的解法如下：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">restoreIpAddresses</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> s<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> List<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">]</span><span class="token punctuation">:</span>

        res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        segments <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">4</span>

        <span class="token comment"># seg 表示现在到了第几段，start 表示从哪个下标开始的</span>
        <span class="token keyword">def</span> <span class="token function">dfs</span><span class="token punctuation">(</span>seg<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> start<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token comment"># 终止条件</span>
            <span class="token keyword">if</span> seg <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> start <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">:</span>
                    ip <span class="token operator">=</span> <span class="token string">&quot;.&quot;</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> segments<span class="token punctuation">)</span>
                    res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>ip<span class="token punctuation">)</span>
                <span class="token keyword">return</span>
			
            <span class="token comment"># 剪枝</span>
            <span class="token keyword">if</span> start <span class="token operator">&gt;=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span>

            <span class="token keyword">if</span> s<span class="token punctuation">[</span>start<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'0'</span><span class="token punctuation">:</span>
                segments<span class="token punctuation">[</span>seg<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
                dfs<span class="token punctuation">(</span>seg <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> start <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>

            addr <span class="token operator">=</span> <span class="token string">''</span>
            <span class="token comment"># why start, not start + 1? 因为前面只是判断了前导 0 的特殊情况</span>
            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                addr <span class="token operator">=</span> addr <span class="token operator">+</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
                <span class="token keyword">if</span> <span class="token number">0</span> <span class="token operator">&lt;</span> <span class="token builtin">int</span><span class="token punctuation">(</span>addr<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">255</span><span class="token punctuation">:</span>
                    segments<span class="token punctuation">[</span>seg<span class="token punctuation">]</span> <span class="token operator">=</span> addr
                    dfs<span class="token punctuation">(</span>seg <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    <span class="token keyword">break</span>

        dfs<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> res
</code></pre></div><p>这个代码与其说是回溯，不如说是 DFS（这里要说一个概念，回溯就是在一个树形问题上做 DFS，可能会涉及到剪枝）, 但是其有点在于，可以帮助我们很好的去理解这个题目，其本质就是暴力搜索 + 剪枝。</p> <p>😍😍😍 有前辈说，回溯问题就是要画图理解，这样会形成方法论，非常实用。</p> <h2 id="例题解析-记忆化搜索"><a href="#例题解析-记忆化搜索" class="header-anchor">#</a> 例题解析 - 记忆化搜索</h2> <h3 id="lc140-单词拆分ii"><a href="#lc140-单词拆分ii" class="header-anchor">#</a> LC140 单词拆分 II</h3> <p><a href="https://leetcode-cn.com/problems/word-break-ii/" target="_blank" rel="noopener noreferrer">140. 单词拆分 II<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>很经典的一道回溯题目。</p> <h4 id="dfs-解法"><a href="#dfs-解法" class="header-anchor">#</a> DFS 解法</h4> <p>我们先来研究一下自底向上 DFS + 记忆化搜索的解法：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">wordBreak</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> s<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> wordDict<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> List<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>dfs<span class="token punctuation">(</span>s<span class="token punctuation">,</span> wordDict<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">dfs</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> s<span class="token punctuation">,</span> word_dict<span class="token punctuation">,</span> memo<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 判断是否在缓存中</span>
        <span class="token keyword">if</span> s <span class="token keyword">in</span> memo<span class="token punctuation">:</span>
            <span class="token keyword">return</span> memo<span class="token punctuation">[</span>s<span class="token punctuation">]</span>
        <span class="token comment"># 循环终止条件</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> s<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

        res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">for</span> word <span class="token keyword">in</span> word_dict<span class="token punctuation">:</span>
            <span class="token comment"># 剪枝</span>
            <span class="token keyword">if</span> <span class="token keyword">not</span> s<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span>word<span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">continue</span>

            <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span><span class="token punctuation">:</span>
                res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>word<span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                result_of_the_rest <span class="token operator">=</span> self<span class="token punctuation">.</span>dfs<span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token builtin">len</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">,</span> word_dict<span class="token punctuation">,</span> memo<span class="token punctuation">)</span>
                <span class="token keyword">for</span> item <span class="token keyword">in</span> result_of_the_rest<span class="token punctuation">:</span>
                    item <span class="token operator">=</span> word <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> item
                    res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>item<span class="token punctuation">)</span>
        memo<span class="token punctuation">[</span>s<span class="token punctuation">]</span> <span class="token operator">=</span> res
        <span class="token keyword">return</span> res
</code></pre></div><p>这个解法的难理解之处在于：</p> <ol><li><p><code>if len(s) == len(word)</code>  这个条件怎么理解？</p> <p>我们举例来看，如给出以下的用例：</p> <blockquote><p>s = &quot;catsanddog&quot;</p> <p>wordDict = [&quot;cat&quot;, &quot;cats&quot;, &quot;and&quot;, &quot;sand&quot;, &quot;dog&quot;]</p></blockquote> <p>我们期望的输出结果是  <code>&quot;cats and dog&quot;</code>  和 <code>&quot;cat sand dog&quot;</code> 。</p></li> <li><p>要理解这个方法我们还需要深刻理解递归，就目前而言水平还是有所欠缺。🈚🈚🈚 这个题目的递归不是特别容易理解，可以以后参考。</p></li></ol> <h4 id="回溯解法"><a href="#回溯解法" class="header-anchor">#</a> 回溯解法</h4> <p>我们还有一个很经典的回溯解法，这个方法也比较好理解，但是性能上稍微差一点。</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">wordBreak</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> s<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> wordDict<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> List<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        cur <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

        <span class="token keyword">def</span> <span class="token function">back_track</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token comment"># 递归终止条件</span>
            <span class="token keyword">if</span> start <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">:</span>
                res<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token keyword">return</span>

            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                word <span class="token operator">=</span> s<span class="token punctuation">[</span>start<span class="token punctuation">:</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span>
                <span class="token keyword">if</span> word <span class="token keyword">in</span> wordDict<span class="token punctuation">:</span>
                    cur<span class="token punctuation">.</span>append<span class="token punctuation">(</span>word<span class="token punctuation">)</span>
                    back_track<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
                    <span class="token comment"># cur.remove(word) is not ok</span>
                    <span class="token keyword">del</span> cur<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>

        back_track<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> res
</code></pre></div><p>上述代码中有一个细节需要注意，那就是我们在回溯的过程中使用了  <code>del cur[-1]</code>  的回溯方式，这样的优点是可以避免单词重复，比如这个用例：</p> <blockquote><p>s = &quot;aaaaaaa&quot;</p> <p>wordDict = [&quot;aaaa&quot;, &quot;aa&quot;, &quot;a&quot;]</p></blockquote> <p>如果用  <code>remove</code>  的方式就会产生错误的结果。</p> <p>当然我们最佳的方式还是使用  <code>cur.pop()</code> 😀😀😀</p> <p>还有一点需要注意的是，我们回溯的起点是  <code>back_track(i + 1)</code> , 这是因为我们之前已经截取过了  <code>[start:i]</code>  这段区间的 word.</p></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间: </span> <span class="time">2022年2月7日星期一 20:45</span></div></footer> <!----> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-70334359><li class="level-2" data-v-70334359><a href="/Algorithm/backtrack.html#回溯-模板" class="sidebar-link reco-side-回溯-模板" data-v-70334359>回溯：模板</a></li><li class="level-2" data-v-70334359><a href="/Algorithm/backtrack.html#例题解析-排列组合类" class="sidebar-link reco-side-例题解析-排列组合类" data-v-70334359>例题解析 - 排列组合类</a></li><li class="level-3" data-v-70334359><a href="/Algorithm/backtrack.html#lc17-电话号码的字母组合" class="sidebar-link reco-side-lc17-电话号码的字母组合" data-v-70334359>LC17 电话号码的字母组合</a></li><li class="level-3" data-v-70334359><a href="/Algorithm/backtrack.html#lc22-括号生成" class="sidebar-link reco-side-lc22-括号生成" data-v-70334359>LC22 括号生成</a></li><li class="level-3" data-v-70334359><a href="/Algorithm/backtrack.html#lc39-组合总数" class="sidebar-link reco-side-lc39-组合总数" data-v-70334359>LC39 组合总数</a></li><li class="level-3" data-v-70334359><a href="/Algorithm/backtrack.html#lc40-组合总数ii" class="sidebar-link reco-side-lc40-组合总数ii" data-v-70334359>LC40 组合总数II</a></li><li class="level-3" data-v-70334359><a href="/Algorithm/backtrack.html#lc46-全排列" class="sidebar-link reco-side-lc46-全排列" data-v-70334359>LC46 全排列</a></li><li class="level-3" data-v-70334359><a href="/Algorithm/backtrack.html#lc47-全排列ii" class="sidebar-link reco-side-lc47-全排列ii" data-v-70334359>LC47 全排列II</a></li><li class="level-3" data-v-70334359><a href="/Algorithm/backtrack.html#lc77-组合" class="sidebar-link reco-side-lc77-组合" data-v-70334359>LC77 组合</a></li><li class="level-2" data-v-70334359><a href="/Algorithm/backtrack.html#例题解析-dfs-类" class="sidebar-link reco-side-例题解析-dfs-类" data-v-70334359>例题解析 - DFS 类</a></li><li class="level-3" data-v-70334359><a href="/Algorithm/backtrack.html#lc37-解数独" class="sidebar-link reco-side-lc37-解数独" data-v-70334359>LC37 解数独</a></li><li class="level-3" data-v-70334359><a href="/Algorithm/backtrack.html#lc79-单词搜索" class="sidebar-link reco-side-lc79-单词搜索" data-v-70334359>LC79 单词搜索</a></li><li class="level-3" data-v-70334359><a href="/Algorithm/backtrack.html#lc93-复原-ip-地址-剪枝" class="sidebar-link reco-side-lc93-复原-ip-地址-剪枝" data-v-70334359>LC93 复原 IP 地址(剪枝)</a></li><li class="level-2" data-v-70334359><a href="/Algorithm/backtrack.html#例题解析-记忆化搜索" class="sidebar-link reco-side-例题解析-记忆化搜索" data-v-70334359>例题解析 - 记忆化搜索</a></li><li class="level-3" data-v-70334359><a href="/Algorithm/backtrack.html#lc140-单词拆分ii" class="sidebar-link reco-side-lc140-单词拆分ii" data-v-70334359>LC140 单词拆分II</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><!----></div></div>
    <script src="/assets/js/app.ff413545.js" defer></script><script src="/assets/js/3.a9798fbe.js" defer></script><script src="/assets/js/1.76b01c69.js" defer></script><script src="/assets/js/14.4ea22ee2.js" defer></script><script src="/assets/js/9.0cdfd736.js" defer></script>
  </body>
</html>
